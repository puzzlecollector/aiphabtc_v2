{% extends "base.html" %}
{% load static %}

{% block head_extra %}
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
{% endblock %}

{% block content %}
<style>
    /* Adapted styles from user_questions.html for consistency */
    .container {
        max-width: 888px;
        margin: 20px auto;
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    h3 {
        background-color: #2D3E50;
        color: white;
        padding: 12px 15px;
        margin: 0;
        border-radius: 8px 8px 0 0;
        font-size: 18px;
    }

    .profile_label, .profile_info, #user_profile_nav .user_nav_link, .profile_button, #messages p {
        /* Styles matched to user_questions.html for consistency */
        font-size: 16px;
        margin-bottom: 20px;
    }

    .profile_info {
        padding: 10px;
        background-color: #f9f9f9;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    .social_icon img {
        width: 20px; /* Smaller size for consistency */
        height: 20px;
        margin: 0 5px; /* Adjust spacing around icons */
    }

    #social_links {
        display: flex;
        justify-content: start; /* Align icons to the left */
        flex-wrap: wrap; /* Allow icons to wrap */
        margin-top: 20px;
    }

    .user_nav_link, .profile_button, #messages p {
        background-color: #4CAF50;
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        margin: 10px 5px;
        border-radius: 5px;
        display: inline-block;
    }

    .user_nav_link:hover, .profile_button:hover, #messages p.info, #messages p.error, #messages p.warning, #messages p.success {
        background-color: #45a049;
    }

    #user_profile_nav {
        text-align: center;
        margin-bottom: 20px;
    }

    .profile-image-container {
        display: flex; /* Use flexbox for alignment */
        justify-content: center; /* Center the content horizontally */
        margin-bottom: 20px; /* Space below the image */
    }

    .color-beginner { color: #0000ff; } /* Sky Blue */
    .color-bronze { color: #cd7f32; } /* Bronze */
    .color-silver { color: #c0c0c0; } /* Silver */
    .color-gold { color: #ffd700; } /* Gold */
    .color-platinum { color: #6a0dad; } /* Purple */
    .color-master { color: #008000; } /* Green */
    .color-grandmaster { color: #ff0000; } /* Red */
</style>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div id="user_profile_nav" class="d-flex justify-content-center mb-4">
                <a href="#" class="user_nav_link" onclick="window.location.reload();">User Profile</a>
                <a href="{% url 'common:user_questions' user.id %}" class="user_nav_link">User Posts</a>
                <a href="{% url 'common:user_answers' user.id %}" class="user_nav_link">User Replies</a>
                <a href="{% url 'common:user_comments' user.id %}" class="user_nav_link">User Comments</a>
            </div>
            <div id="profile_base">
                <h3>{{ user.username }}</h3>
                <br>
                <div class="profile-image-container">
                    {% if user.profile.image %}
                        <img src="{{ user.profile.image.url }}" style="width: 300px; height: 300px; object-fit: cover; border-radius: 50%; margin-bottom: 20px;">
                    {% else %}
                        <p>No profile image available.</p>
                    {% endif %}
                </div>
                <div class="profile-details">
                    <label for="email" class="profile_label">Email</label>
                    <p id="email" class="profile_info">{{ user.email }}</p>

                    <label for="intro" class="profile_label">About me</label>
                    <p id="intro" class="profile_info">{{ user.profile.intro }}</p>

                    <label for="score" class="profile_label">Points</label>
                    <p id="score" class="profile_info">{{ user.profile.score }}</p>

                    <label for="tier" class="profile_label">Tier</label>
                    <p id="tier" class="profile_info {{ 'color-'|add:user.profile.get_tier|lower }}">{{ user.profile.get_tier }}</p>

                    <div id="social_links" style="text-align: left;">
                        {% if profile.instagram_url %}
                            <a href="{{ profile.instagram_url }}" target="_blank" class="social_icon">
                                <img src="{% static 'instagram.png' %}" alt="Instagram">
                            </a>
                        {% endif %}
                        {% if profile.twitter_url %}
                            <a href="{{ profile.twitter_url }}" target="_blank" class="social_icon">
                                <img src="{% static 'twitter.png' %}" alt="Twitter">
                            </a>
                        {% endif %}
                        {% if profile.youtube_url %}
                            <a href="{{ profile.youtube_url }}" target="_blank" class="social_icon">
                                <img src="{% static 'youtube.png' %}" alt="YouTube">
                            </a>
                        {% endif %}
                        {% if profile.personal_url %}
                            <a href="{{ profile.personal_url }}" target="_blank" class="social_icon">
                                <img src="{% static 'website.png' %}" alt="Website">
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
